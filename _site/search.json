[
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#import-library-package",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#import-library-package",
    "title": "Take-Home_EX03",
    "section": "",
    "text": "Code\npacman::p_load(tidyverse, jsonlite, lubridate, ggraph, tidygraph, visNetwork, igraph, patchwork)"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#import-data-and-extract-nodes-and-edges",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#import-data-and-extract-nodes-and-edges",
    "title": "Take-Home_EX03",
    "section": "",
    "text": "Code\n# Load graph structure\nMC3 &lt;- fromJSON(\"TH03/data/MC3_graph.json\")\nMC3_schema &lt;- fromJSON(\"TH03/data/MC3_schema.json\")\n\nmc3_nodes &lt;- as_tibble(MC3$nodes)\nmc3_edges &lt;- as_tibble(MC3$edges)\n\n\n\n\nCode\nglimpse(MC3)\n\n\nList of 5\n $ directed  : logi TRUE\n $ multigraph: logi FALSE\n $ graph     :List of 4\n  ..$ mode        : chr \"static\"\n  ..$ edge_default: Named list()\n  ..$ node_default: Named list()\n  ..$ name        : chr \"VAST_MC3_Knowledge_Graph\"\n $ nodes     :'data.frame': 1159 obs. of  31 variables:\n  ..$ type             : chr [1:1159] \"Entity\" \"Entity\" \"Entity\" \"Entity\" ...\n  ..$ label            : chr [1:1159] \"Sam\" \"Kelly\" \"Nadia Conti\" \"Elise\" ...\n  ..$ name             : chr [1:1159] \"Sam\" \"Kelly\" \"Nadia Conti\" \"Elise\" ...\n  ..$ sub_type         : chr [1:1159] \"Person\" \"Person\" \"Person\" \"Person\" ...\n  ..$ id               : chr [1:1159] \"Sam\" \"Kelly\" \"Nadia Conti\" \"Elise\" ...\n  ..$ timestamp        : chr [1:1159] NA NA NA NA ...\n  ..$ monitoring_type  : chr [1:1159] NA NA NA NA ...\n  ..$ findings         : chr [1:1159] NA NA NA NA ...\n  ..$ content          : chr [1:1159] NA NA NA NA ...\n  ..$ assessment_type  : chr [1:1159] NA NA NA NA ...\n  ..$ results          : chr [1:1159] NA NA NA NA ...\n  ..$ movement_type    : chr [1:1159] NA NA NA NA ...\n  ..$ destination      : chr [1:1159] NA NA NA NA ...\n  ..$ enforcement_type : chr [1:1159] NA NA NA NA ...\n  ..$ outcome          : chr [1:1159] NA NA NA NA ...\n  ..$ activity_type    : chr [1:1159] NA NA NA NA ...\n  ..$ participants     : int [1:1159] NA NA NA NA NA NA NA NA NA NA ...\n  ..$ thing_collected  :'data.frame':   1159 obs. of  2 variables:\n  .. ..$ type: chr [1:1159] NA NA NA NA ...\n  .. ..$ name: chr [1:1159] NA NA NA NA ...\n  ..$ reference        : chr [1:1159] NA NA NA NA ...\n  ..$ date             : chr [1:1159] NA NA NA NA ...\n  ..$ time             : chr [1:1159] NA NA NA NA ...\n  ..$ friendship_type  : chr [1:1159] NA NA NA NA ...\n  ..$ permission_type  : chr [1:1159] NA NA NA NA ...\n  ..$ start_date       : chr [1:1159] NA NA NA NA ...\n  ..$ end_date         : chr [1:1159] NA NA NA NA ...\n  ..$ report_type      : chr [1:1159] NA NA NA NA ...\n  ..$ submission_date  : chr [1:1159] NA NA NA NA ...\n  ..$ jurisdiction_type: chr [1:1159] NA NA NA NA ...\n  ..$ authority_level  : chr [1:1159] NA NA NA NA ...\n  ..$ coordination_type: chr [1:1159] NA NA NA NA ...\n  ..$ operational_role : chr [1:1159] NA NA NA NA ...\n $ edges     :'data.frame': 3226 obs. of  5 variables:\n  ..$ id         : chr [1:3226] \"2\" \"3\" \"5\" \"3013\" ...\n  ..$ is_inferred: logi [1:3226] TRUE FALSE TRUE TRUE TRUE TRUE ...\n  ..$ source     : chr [1:3226] \"Sam\" \"Sam\" \"Sam\" \"Sam\" ...\n  ..$ target     : chr [1:3226] \"Relationship_Suspicious_217\" \"Event_Communication_370\" \"Event_Assessment_600\" \"Relationship_Colleagues_430\" ...\n  ..$ type       : chr [1:3226] NA \"sent\" NA NA ..."
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#clean-and-wrangling-nodes",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#clean-and-wrangling-nodes",
    "title": "Take-Home_EX03",
    "section": "",
    "text": "Code\nmc3_nodes_cleaned &lt;- mc3_nodes %&gt;%\n  mutate(id = as.character(id)) %&gt;%\n  filter(!is.na(id)) %&gt;%\n  distinct(id, .keep_all = TRUE) %&gt;%\n  select(-thing_collected)\n\nmc3_edges_cleaned &lt;- mc3_edges %&gt;%\n  rename(from_id = source, \n         to_id = target) %&gt;%\n  mutate(across(c(from_id, to_id), as.character)) %&gt;%\n  filter(from_id %in% mc3_nodes_cleaned$id, \n         to_id %in% mc3_nodes_cleaned$id) %&gt;%\n  filter(!is.na(from_id), !is.na(to_id))\n\nnode_index_lookup &lt;- mc3_nodes_cleaned %&gt;%\n  mutate(.row_id = row_number()) %&gt;%\n  select(id, .row_id)\n\nmc3_edges_indexed &lt;- mc3_edges_cleaned %&gt;%\n  left_join(node_index_lookup, by = c(\"from_id\" = \"id\")) %&gt;%\n  rename(from = .row_id) %&gt;%\n  left_join(node_index_lookup, by = c(\"to_id\" = \"id\")) %&gt;%\n  rename(to = .row_id) %&gt;%\n  select(from, to, is_inferred, type) %&gt;%\n  filter(!is.na(from) & !is.na(to))\n\nused_node_indices &lt;- sort(unique(c(mc3_edges_indexed$from, mc3_edges_indexed$to)))\n\nmc3_nodes_final &lt;- mc3_nodes_cleaned %&gt;%\n  slice(used_node_indices) %&gt;%\n  mutate(new_index = row_number())\n\nold_to_new_index &lt;- tibble(\n  old_index = used_node_indices,\n  new_index = seq_along(used_node_indices)\n)\n\nmc3_edges_final &lt;- mc3_edges_indexed %&gt;%\n  left_join(old_to_new_index, by = c(\"from\" = \"old_index\")) %&gt;%\n  rename(from_new = new_index) %&gt;%\n  left_join(old_to_new_index, by = c(\"to\" = \"old_index\")) %&gt;%\n  rename(to_new = new_index) %&gt;%\n  select(from = from_new, to = to_new, is_inferred, type)"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#parse-timestamp-and-extract-day",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#parse-timestamp-and-extract-day",
    "title": "Take-Home_EX03",
    "section": "",
    "text": "Code\n# Convert timestamp to datetime and extract date\ncomm_events &lt;- mc3_nodes_final %&gt;%\n  filter(type == \"Event\", sub_type == \"Communication\") %&gt;%\n  select(id, timestamp)\n\n# Step 2: Parse timestamp into datetime and extract the date\ncomm_events &lt;- comm_events %&gt;%\n  mutate(\n    start_time = ymd_hms(timestamp, quiet = TRUE),\n    day = as.Date(start_time)\n  )"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#summarise-daily-communication-volume",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#summarise-daily-communication-volume",
    "title": "Take-Home_EX03",
    "section": "",
    "text": "Code\n# Count number of communications per day\ndaily_comms &lt;- comm_events %&gt;%\n  count(day, name = \"num_comms\")"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#visualise-the-temporal-pattern",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#visualise-the-temporal-pattern",
    "title": "Take-Home_EX03",
    "section": "",
    "text": "Code\n# Plot as a time series\nggplot(daily_comms, aes(x = day, y = num_comms)) +\n  geom_line(color = \"steelblue\", linewidth = 1.2) +\n  geom_point(size = 2) +\n  labs(title = \"Daily Communication Patterns (2-Week Period)\",\n       x = \"Date\", y = \"Number of Communications\") +\n  theme_minimal()"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#filter-people-vessels-only",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#filter-people-vessels-only",
    "title": "Take-Home_EX03",
    "section": "Filter People + Vessels only",
    "text": "Filter People + Vessels only\n\n\nCode\n# Filter relevant entity nodes\nentity_nodes &lt;- mc3_nodes_final %&gt;%\n  filter(type == \"Entity\", sub_type %in% c(\"Person\", \"Vessel\")) %&gt;%\n  select(id, name, sub_type)"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#assign-groups-based-on-namesubtype-for-better-analytics",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#assign-groups-based-on-namesubtype-for-better-analytics",
    "title": "Take-Home_EX03",
    "section": "Assign groups based on name/subtype for better analytics",
    "text": "Assign groups based on name/subtype for better analytics\n\n\nCode\nentity_nodes &lt;- entity_nodes %&gt;%\n  mutate(\n    group = case_when(\n      name %in% c(\"Green Guardians\", \"Reef Guardian\", \"EcoVigil\", \"Sentinel\") ~ \"Environmentalism\",\n      name %in% c(\"Sailor Shift\", \"Sailor Shifts Team\") ~ \"Sailor Shift\",\n      name %in% c(\"Mariners Dream\", \"Marlin\", \"Recreational Fishing Boats\") ~ \"Fishing/Leisure\",\n      name %in% c(\"Serenity\", \"Horizon\", \"Osprey\", \"Remora\", \"Neptune\", \"Mako\") ~ \"Tourism/Leisure\",\n      TRUE ~ sub_type\n    )\n  )"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#filter-edges-between-people-and-vessels-communication-events",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#filter-edges-between-people-and-vessels-communication-events",
    "title": "Take-Home_EX03",
    "section": "Filter Edges Between People and Vessels (Communication events)",
    "text": "Filter Edges Between People and Vessels (Communication events)\n\n\nCode\nvalid_ids &lt;- entity_nodes$id\n\ncomm_event_ids &lt;- mc3_nodes_final %&gt;%\n  filter(type == \"Event\", sub_type == \"Communication\") %&gt;%\n  pull(id)\n\n# Use the cleaned edge indices and map back to node IDs\nedge_lookup &lt;- tibble(\n  index = mc3_nodes_final$new_index,\n  id = mc3_nodes_final$id\n)\n\nmc3_edges_for_events &lt;- mc3_edges_final %&gt;%\n  left_join(edge_lookup, by = c(\"from\" = \"index\")) %&gt;%\n  rename(from_id = id) %&gt;%\n  left_join(edge_lookup, by = c(\"to\" = \"index\")) %&gt;%\n  rename(to_id = id)\n\nsent_edges &lt;- mc3_edges_for_events %&gt;%\n  filter(type == \"sent\", to_id %in% comm_event_ids) %&gt;%\n  select(event_id = to_id, entity_id = from_id)\n\nreceived_edges &lt;- mc3_edges_for_events %&gt;%\n  filter(type == \"received\", from_id %in% comm_event_ids) %&gt;%\n  select(event_id = from_id, entity_id = to_id)\n\nentity_event_edges &lt;- bind_rows(sent_edges, received_edges)\n\nentity_pairs &lt;- entity_event_edges %&gt;%\n  inner_join(entity_event_edges, by = \"event_id\") %&gt;%\n  filter(entity_id.x != entity_id.y) %&gt;%\n  distinct(entity_id.x, entity_id.y) %&gt;%\n  rename(source = entity_id.x, target = entity_id.y) %&gt;%\n  filter(source %in% valid_ids & target %in% valid_ids)"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#build-and-cluster-graph",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#build-and-cluster-graph",
    "title": "Take-Home_EX03",
    "section": "Build and Cluster Graph",
    "text": "Build and Cluster Graph\n\n\nCode\ngraph_tbl &lt;- tbl_graph(nodes = entity_nodes, edges = entity_pairs, directed = FALSE)\n\ngraph_tbl &lt;- graph_tbl %&gt;%\n  mutate(cluster = as.factor(group_infomap()))"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#visualise-groups",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html#visualise-groups",
    "title": "Take-Home_EX03",
    "section": "Visualise Groups",
    "text": "Visualise Groups\n\n\nCode\nggraph(graph_tbl, layout = \"fr\") +\n  geom_edge_link(alpha = 0.2) +\n  geom_node_point(aes(color = group, shape = sub_type), size = 4) +\n  geom_node_text(aes(label = name), repel = TRUE, size = 2.5) +\n  labs(title = \"Entity Communication Network: People and Vessels\",\n       color = \"Group\", shape = \"Type\") +\n  theme_minimal()"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html",
    "href": "Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html",
    "title": "Take-Home_EX03",
    "section": "",
    "text": "Replicate Take home 2 with teammates’s package # Set-up\n\n\n\n\nCode\npacman::p_load(tidyverse, jsonlite, lubridate, ggraph, tidygraph, visNetwork, igraph, patchwork)\n\n\n\n\n\n\n\nCode\n# Load graph structure\nMC3 &lt;- fromJSON(\"TH03/data/MC3_graph.json\")\nMC3_schema &lt;- fromJSON(\"TH03/data/MC3_schema.json\")\n\nmc3_nodes &lt;- as_tibble(MC3$nodes)\nmc3_edges &lt;- as_tibble(MC3$edges)\n\n\n\n\nCode\nglimpse(MC3)\n\n\nList of 5\n $ directed  : logi TRUE\n $ multigraph: logi FALSE\n $ graph     :List of 4\n  ..$ mode        : chr \"static\"\n  ..$ edge_default: Named list()\n  ..$ node_default: Named list()\n  ..$ name        : chr \"VAST_MC3_Knowledge_Graph\"\n $ nodes     :'data.frame': 1159 obs. of  31 variables:\n  ..$ type             : chr [1:1159] \"Entity\" \"Entity\" \"Entity\" \"Entity\" ...\n  ..$ label            : chr [1:1159] \"Sam\" \"Kelly\" \"Nadia Conti\" \"Elise\" ...\n  ..$ name             : chr [1:1159] \"Sam\" \"Kelly\" \"Nadia Conti\" \"Elise\" ...\n  ..$ sub_type         : chr [1:1159] \"Person\" \"Person\" \"Person\" \"Person\" ...\n  ..$ id               : chr [1:1159] \"Sam\" \"Kelly\" \"Nadia Conti\" \"Elise\" ...\n  ..$ timestamp        : chr [1:1159] NA NA NA NA ...\n  ..$ monitoring_type  : chr [1:1159] NA NA NA NA ...\n  ..$ findings         : chr [1:1159] NA NA NA NA ...\n  ..$ content          : chr [1:1159] NA NA NA NA ...\n  ..$ assessment_type  : chr [1:1159] NA NA NA NA ...\n  ..$ results          : chr [1:1159] NA NA NA NA ...\n  ..$ movement_type    : chr [1:1159] NA NA NA NA ...\n  ..$ destination      : chr [1:1159] NA NA NA NA ...\n  ..$ enforcement_type : chr [1:1159] NA NA NA NA ...\n  ..$ outcome          : chr [1:1159] NA NA NA NA ...\n  ..$ activity_type    : chr [1:1159] NA NA NA NA ...\n  ..$ participants     : int [1:1159] NA NA NA NA NA NA NA NA NA NA ...\n  ..$ thing_collected  :'data.frame':   1159 obs. of  2 variables:\n  .. ..$ type: chr [1:1159] NA NA NA NA ...\n  .. ..$ name: chr [1:1159] NA NA NA NA ...\n  ..$ reference        : chr [1:1159] NA NA NA NA ...\n  ..$ date             : chr [1:1159] NA NA NA NA ...\n  ..$ time             : chr [1:1159] NA NA NA NA ...\n  ..$ friendship_type  : chr [1:1159] NA NA NA NA ...\n  ..$ permission_type  : chr [1:1159] NA NA NA NA ...\n  ..$ start_date       : chr [1:1159] NA NA NA NA ...\n  ..$ end_date         : chr [1:1159] NA NA NA NA ...\n  ..$ report_type      : chr [1:1159] NA NA NA NA ...\n  ..$ submission_date  : chr [1:1159] NA NA NA NA ...\n  ..$ jurisdiction_type: chr [1:1159] NA NA NA NA ...\n  ..$ authority_level  : chr [1:1159] NA NA NA NA ...\n  ..$ coordination_type: chr [1:1159] NA NA NA NA ...\n  ..$ operational_role : chr [1:1159] NA NA NA NA ...\n $ edges     :'data.frame': 3226 obs. of  5 variables:\n  ..$ id         : chr [1:3226] \"2\" \"3\" \"5\" \"3013\" ...\n  ..$ is_inferred: logi [1:3226] TRUE FALSE TRUE TRUE TRUE TRUE ...\n  ..$ source     : chr [1:3226] \"Sam\" \"Sam\" \"Sam\" \"Sam\" ...\n  ..$ target     : chr [1:3226] \"Relationship_Suspicious_217\" \"Event_Communication_370\" \"Event_Assessment_600\" \"Relationship_Colleagues_430\" ...\n  ..$ type       : chr [1:3226] NA \"sent\" NA NA ...\n\n\n\n\n\n\n\nCode\nmc3_nodes_cleaned &lt;- mc3_nodes %&gt;%\n  mutate(id = as.character(id)) %&gt;%\n  filter(!is.na(id)) %&gt;%\n  distinct(id, .keep_all = TRUE) %&gt;%\n  select(-thing_collected)\n\nmc3_edges_cleaned &lt;- mc3_edges %&gt;%\n  rename(from_id = source, \n         to_id = target) %&gt;%\n  mutate(across(c(from_id, to_id), as.character)) %&gt;%\n  filter(from_id %in% mc3_nodes_cleaned$id, \n         to_id %in% mc3_nodes_cleaned$id) %&gt;%\n  filter(!is.na(from_id), !is.na(to_id))\n\nnode_index_lookup &lt;- mc3_nodes_cleaned %&gt;%\n  mutate(.row_id = row_number()) %&gt;%\n  select(id, .row_id)\n\nmc3_edges_indexed &lt;- mc3_edges_cleaned %&gt;%\n  left_join(node_index_lookup, by = c(\"from_id\" = \"id\")) %&gt;%\n  rename(from = .row_id) %&gt;%\n  left_join(node_index_lookup, by = c(\"to_id\" = \"id\")) %&gt;%\n  rename(to = .row_id) %&gt;%\n  select(from, to, is_inferred, type) %&gt;%\n  filter(!is.na(from) & !is.na(to))\n\nused_node_indices &lt;- sort(unique(c(mc3_edges_indexed$from, mc3_edges_indexed$to)))\n\nmc3_nodes_final &lt;- mc3_nodes_cleaned %&gt;%\n  slice(used_node_indices) %&gt;%\n  mutate(new_index = row_number())\n\nold_to_new_index &lt;- tibble(\n  old_index = used_node_indices,\n  new_index = seq_along(used_node_indices)\n)\n\nmc3_edges_final &lt;- mc3_edges_indexed %&gt;%\n  left_join(old_to_new_index, by = c(\"from\" = \"old_index\")) %&gt;%\n  rename(from_new = new_index) %&gt;%\n  left_join(old_to_new_index, by = c(\"to\" = \"old_index\")) %&gt;%\n  rename(to_new = new_index) %&gt;%\n  select(from = from_new, to = to_new, is_inferred, type)\n\n\n\n\n\n\n\nCode\n# Convert timestamp to datetime and extract date\ncomm_events &lt;- mc3_nodes_final %&gt;%\n  filter(type == \"Event\", sub_type == \"Communication\") %&gt;%\n  select(id, timestamp)\n\n# Step 2: Parse timestamp into datetime and extract the date\ncomm_events &lt;- comm_events %&gt;%\n  mutate(\n    start_time = ymd_hms(timestamp, quiet = TRUE),\n    day = as.Date(start_time)\n  )\n\n\n\n\n\n\n\nCode\n# Count number of communications per day\ndaily_comms &lt;- comm_events %&gt;%\n  count(day, name = \"num_comms\")\n\n\n\n\n\n\n\nCode\n# Plot as a time series\nggplot(daily_comms, aes(x = day, y = num_comms)) +\n  geom_line(color = \"steelblue\", linewidth = 1.2) +\n  geom_point(size = 2) +\n  labs(title = \"Daily Communication Patterns (2-Week Period)\",\n       x = \"Date\", y = \"Number of Communications\") +\n  theme_minimal()"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISS608-VAA",
    "section": "",
    "text": "Welcome to ISSS608 Visual Analytics and Applications.\nIn this website, you will find my coursework prepared for this course"
  }
]