{
  "hash": "d85b166860cb53ca890a503aa45d54d0",
  "result": {
    "markdown": "---\ntitle: \"Take-Home_Ex01\"\nauthor: \"Teo Wee Siang Roy\"\ndate: \"May 01, 2025\"\ndate-modified: \"last-modified\"\nformat:\n  html:\n    toc: true\n    theme: default\neditor: visual\nexecute: \n  eval: true\n  echo: true\n  warning: false\nfreeze: true\n---\n\n\n## Editorial Brief -- Visualising Singapore's Resident Population (2024)\n\nAs the graphical editor of a media company, I have been tasked to design up to **three impactful data visualisations** to support an article on Singapore's resident population as of **June 2024**.\n\nThe aim is to help readers quickly understand demographic trends using clear and accessible visuals based on official statistics.\n\n### Data Source\n\n[Department of Statistics Singapore (DOS)](https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data): Planning Area and Subzone, Single Year of Age (0--100+), Sex (Male, Female, Total), Resident Population counts (as of June 2024)\n\n### Visualisation Objectives\n\n-   **Relevance**: Support editorial narratives (e.g. ageing population, regional differences)\n-   **Clarity**: Easy for general readers to understand\n-   **Compactness**: Limited to a maximum of three charts\n\n### Data Preparation Summary\n\n-   Cleaned and filtered for relevant fields (Age, Sex, Planning Area)\n-   Converted columns to numeric where needed (e.g. Age, Population)\n-   Aggregated by region and demographic groups for visual storytelling\n\n## Load packages\n\nWe begin by loading all required R packages using the `pacman::p_load()` function. These packages support data wrangling, visualisation, animation, and layout composition for this take-home exercise.\n\n-   **tidyverse**: Core set of packages for data manipulation, transformation, and visualisation using `ggplot2`.\n-   **readxl**: To import Excel files (`.xlsx`), such as the population dataset used in this exercise.\n-   **haven**: Enables importing datasets from software like SPSS, SAS, and Stata.\n-   **ggrepel**: Prevents overlapping text labels in `ggplot2` plots, improving readability.\n-   **ggthemes**: Provides additional `ggplot2` themes for publication-quality charts.\n-   **patchwork**: Combines multiple `ggplot2` plots into a single composite layout.\n-   **ggridges**: Creates ridgeline plots to visualise distributions across categories.\n-   **ggdist**: Supports visualisations of distributions and uncertainty (e.g. dot + interval plots).\n-   **scales**: Useful for formatting axis labels (e.g. commas, percentages, date breaks).\n-   **plotly**: Adds interactivity to static plots made with `ggplot2`, enabling zoom, hover, etc.\n-   **gganimate**: Enables animation of `ggplot2` plots across time or other variables.\n-   **gifski**: Required by `gganimate` to render animations into GIF format.\n-   **gapminder**: A sample dataset often used for animated population plots and trend visualisation.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse, readxl, haven, ggrepel, \nggthemes, patchwork, ggridges, ggdist, scales, plotly, \ngganimate, gifski, gapminder)\n```\n:::\n\n\n## Import Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\npop_data <- read_csv(\"TH01/data/cleaned_population_2024.csv\")\n```\n:::\n\n\n### Data Cleaning Summary\n\nTo prepare the dataset for visualisation, the following data cleaning steps were applied:\n\n-   **Skipped Metadata Rows**\\\n    The original Excel file contained header and metadata rows. We used `skiprows = 2` to access only the actual data records.\n\n-   **Dropped Incomplete Rows**\\\n    Removed rows where any key fields were missing:\n\n    -   `Subzone`\n    -   `Age`\n    -   `Sex`\n    -   `Population (2024)`\\\n        This ensures only valid, complete records are included in the analysis.\n\n-   **Renamed Columns for Clarity**\\\n    Replaced generic or auto-generated column names (e.g., `Unnamed: x`, `2024`) with:\n\n    -   `Planning Area`, `Subzone`, `Age`, `Sex`, `Population`\n\n-   **Converted to Numeric Types**\\\n    Converted the `Age` and `Population` columns to numeric using coercion.\\\n    Non-numeric values were turned into `NA` and filtered out.\n\n-   **Removed Rows with Missing Age or Population**\\\n    Any rows with missing (`NA`) values in `Age` or `Population` were dropped after conversion.\n\n## Data Parameters and Description\n\n| **Field Name** | **Field Description**                                                        |\n|------------------|------------------------------------------------------|\n| Planning Area  | Administrative regions in Singapore (e.g. Bedok, Ang Mo Kio, Tampines, etc.) |\n| Subzone        | Subdivisions within each Planning Area                                       |\n| Age            | Age of residents in single years (0 to 100+)                                 |\n| Sex            | Gender category: Male, Female, or Total                                      |\n| Population     | Number of residents for the given demographic group in June 2024             |\n\n# EDA 1: Population Pyramid (Age-Sex Distribution)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npyramid_data <- pop_data %>%\n  filter(Sex %in% c(\"Males\", \"Females\")) %>%\n  mutate(Population = ifelse(Sex == \"Males\", -Population, Population))\n\nggplot(pyramid_data, aes(x = Age, y = Population, fill = Sex)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  scale_y_continuous(labels = abs) +\n  labs(title = \"Population Pyramid of Singapore (2024)\",\n       x = \"Age\",\n       y = \"Population (count)\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](Take-Home_Ex01_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n### EDA Insights\n\n- **Consistent Gender Distribution at Younger Ages (0–30)**  \n  Male and female populations are roughly balanced across childhood, teenage, and early working-age groups, indicating a stable birth sex ratio and consistent migration patterns among younger residents.\n\n- **Mid-Age Concentration (Ages 35–54)**  \n  The largest population cohorts are between ages **35 and 54**, suggesting a high concentration of residents in their peak working years. This aligns with the structure of a mature labour force.\n\n- **Visible Gender Divergence After Age 70**  \n  Starting around age **70**, the number of females surpasses the number of males significantly, particularly in the 80+ range. This reflects actual population counts where female longevity exceeds male longevity.\n\n- **Shrinking Base (Ages 0–14)**  \n  The bottom of the pyramid is narrow, with the population under age 15 notably lower than other groups. This suggests that recent birth cohorts are smaller",
    "supporting": [
      "Take-Home_Ex01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}